<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>WinGo Pro Signal</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px;position:relative;overflow-x:hidden}
body::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");z-index:0;opacity:.3}
.container{max-width:900px;margin:0 auto;position:relative;z-index:1}
.header{text-align:center;margin-bottom:30px;background:rgba(255,255,255,.95);padding:30px;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,.3);position:relative;overflow:hidden}
.header::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent,rgba(255,255,255,.1),transparent);animation:shine 3s infinite}
@keyframes shine{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.logo{font-size:42px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:800;margin-bottom:10px;letter-spacing:2px}
.subtitle{color:#666;font-size:14px;letter-spacing:3px;text-transform:uppercase;font-weight:600}
.prediction-box{background:rgba(255,255,255,.95);border-radius:20px;padding:40px;margin-bottom:25px;box-shadow:0 20px 60px rgba(0,0,0,.3);position:relative;overflow:hidden}
.prediction-box::after{content:'';position:absolute;top:0;left:0;right:0;height:5px;background:linear-gradient(90deg,#667eea,#764ba2,#f093fb);animation:loading 2s ease-in-out infinite}
@keyframes loading{0%,100%{transform:translateX(-100%)}50%{transform:translateX(100%)}}
.pred-title{text-align:center;color:#764ba2;font-size:16px;font-weight:700;text-transform:uppercase;letter-spacing:2px;margin-bottom:25px}
.pred-result{text-align:center;font-size:72px;font-weight:900;margin-bottom:20px;text-transform:uppercase;letter-spacing:8px;animation:popIn .6s cubic-bezier(0.68,-0.55,0.265,1.55)}
@keyframes popIn{0%{opacity:0;transform:scale(.3) rotate(-10deg)}100%{opacity:1;transform:scale(1) rotate(0deg)}}
.pred-big{background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 4px 8px rgba(245,87,108,.3))}
.pred-small{background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 4px 8px rgba(79,172,254,.3))}
.confidence-info{display:flex;justify-content:center;align-items:center;gap:15px;margin-top:20px;flex-wrap:wrap}
.conf-badge{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:12px 30px;border-radius:50px;font-weight:700;font-size:14px;text-transform:uppercase;letter-spacing:1px;box-shadow:0 10px 25px rgba(102,126,234,.4)}
.pattern-badge{background:linear-gradient(135deg,#00f2fe 0%,#4facfe 100%);color:white;padding:12px 25px;border-radius:50px;font-weight:700;font-size:13px}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:20px;margin-bottom:25px}
.stat-card{background:rgba(255,255,255,.95);border-radius:15px;padding:25px;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,.2);transition:all .3s ease;position:relative;overflow:hidden}
.stat-card::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2)}
.stat-card:hover{transform:translateY(-5px);box-shadow:0 15px 40px rgba(0,0,0,.3)}
.stat-label{font-size:12px;color:#888;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px;font-weight:600}
.stat-value{font-size:36px;font-weight:900;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.stat-win{background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.stat-loss{background:linear-gradient(135deg,#f5576c 0%,#f093fb 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.history-section{background:rgba(255,255,255,.95);border-radius:20px;padding:30px;box-shadow:0 20px 60px rgba(0,0,0,.3);margin-bottom:25px}
.section-title{font-size:20px;font-weight:800;color:#764ba2;margin-bottom:20px;text-transform:uppercase;letter-spacing:2px;text-align:center}
.match-info{background:rgba(255,215,0,.1);border-radius:15px;padding:15px;margin-top:15px;border:2px solid #ffd700}
.match-title{font-size:14px;font-weight:700;color:#764ba2;margin-bottom:10px;text-align:center}
.match-list{display:flex;flex-wrap:wrap;gap:10px;justify-content:center}
.match-item{background:linear-gradient(135deg,#fff9e6 0%,#ffe8a3 100%);padding:8px 15px;border-radius:20px;font-size:12px;font-weight:600;color:#333;border:2px solid #ffd700}
.table-wrapper{background:rgba(255,255,255,.95);border-radius:20px;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.3)}
table{width:100%;border-collapse:collapse}
thead{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}
th{padding:18px 12px;text-align:center;font-weight:700;color:white;font-size:13px;text-transform:uppercase;letter-spacing:1px}
tbody tr{transition:all .3s ease;border-bottom:1px solid #f0f0f0}
tbody tr:hover{background:linear-gradient(135deg,rgba(102,126,234,.1) 0%,rgba(118,75,162,.1) 100%);transform:scale(1.01)}
tbody tr.match-row{background:linear-gradient(135deg,rgba(255,215,0,.15) 0%,rgba(255,215,0,.25) 100%);border-left:5px solid #ffd700}
tbody tr.match-row:hover{background:linear-gradient(135deg,rgba(255,215,0,.25) 0%,rgba(255,215,0,.35) 100%)}
td{padding:16px 12px;text-align:center;color:#333;font-size:13px;font-weight:600}
.period-cell{font-family:'Courier New',monospace;font-size:12px;color:#666}
.num-cell{font-size:28px;font-weight:900}
.num-cell.matched{color:#ffd700;text-shadow:0 2px 8px rgba(255,215,0,.6);font-size:32px;font-weight:900;background:linear-gradient(135deg,#ffd700,#ffed4e);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.size-badge{display:inline-block;padding:6px 16px;border-radius:20px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:1px}
.size-big{background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%);color:white}
.size-small{background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%);color:white}
.color-dots{display:flex;justify-content:center;gap:6px}
.dot{width:18px;height:18px;border-radius:50%;border:2px solid white;box-shadow:0 2px 8px rgba(0,0,0,.2)}
.dot-red{background:#f5576c}
.dot-green{background:#00f2fe}
.dot-violet{background:#764ba2}
.result-badge{padding:6px 16px;border-radius:20px;font-size:11px;font-weight:700;text-transform:uppercase}
.result-win{background:#4facfe;color:white}
.result-loss{background:#f5576c;color:white}
.match-badge{background:#ffd700;color:#333;padding:4px 10px;border-radius:15px;font-size:10px;font-weight:700;margin-left:5px}
.refresh-btn{position:fixed;bottom:30px;right:30px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border:none;padding:18px 35px;border-radius:50px;font-size:16px;font-weight:700;cursor:pointer;box-shadow:0 10px 30px rgba(102,126,234,.5);display:flex;align-items:center;gap:10px;transition:all .3s;z-index:1000;text-transform:uppercase;letter-spacing:1px}
.refresh-btn:hover{transform:translateY(-3px);box-shadow:0 15px 40px rgba(102,126,234,.7)}
.refresh-btn:active{transform:translateY(-1px)}
.refresh-icon{font-size:20px;transition:transform .5s}
.refresh-icon.spin{animation:rotate .5s linear}
@keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.time-display{text-align:center;margin-top:20px;padding:15px;background:rgba(255,255,255,.2);border-radius:15px;backdrop-filter:blur(10px)}
.current-time{font-size:32px;font-weight:900;color:white;text-shadow:0 2px 10px rgba(0,0,0,.3);letter-spacing:2px}
.loading{text-align:center;padding:20px;color:#764ba2;font-size:16px;font-weight:600}
.data-count{text-align:center;color:white;font-size:13px;margin-top:10px;opacity:.8}
@media (max-width:768px){
.logo{font-size:32px}
.pred-result{font-size:48px;letter-spacing:4px}
.stats-grid{grid-template-columns:repeat(2,1fr)}
.refresh-btn{bottom:20px;right:20px;padding:15px 25px;font-size:14px}
th,td{padding:12px 8px;font-size:11px}
.num-cell{font-size:22px}
}
</style>
</head>
<body>
<div class="container">
<div class="header">
<div class="logo">âš¡ WINGO PRO SIGNAL</div>
<div class="subtitle">Advanced Pattern Analyzer</div>
<div class="data-count" id="dataCount">Loading data...</div>
</div>

<div class="prediction-box">
<div class="pred-title">ðŸŽ¯ Next Prediction</div>
<div class="pred-result" id="predResult"><div class="loading">Analyzing...</div></div>
<div class="confidence-info">
<div class="conf-badge" id="confBadge">Calculating...</div>
<div class="pattern-badge" id="patternBadge" style="display:none">Matches: <span id="patternMatch">0</span></div>
</div>
</div>



<div class="history-section">
<div class="section-title">ðŸ”¢ Number Pattern Analysis</div>
<div id="numberPatternInfo" class="match-info">
<div class="match-title">Last Number: <span id="lastNumber" style="font-size:20px;color:#f5576c">-</span> â†’ Next Prediction</div>
<div class="match-list" id="numberMatchList"></div>
</div>
</div>

<div class="history-section">
<div class="section-title">ðŸŽ¨ Color Pattern Analysis</div>
<div id="colorPatternInfo" class="match-info">
<div class="match-title">Last 3 Colors Pattern Match</div>
<div class="match-list" id="colorMatchList"></div>
</div>
</div>

<div class="table-wrapper">
<table>
<thead><tr><th>Period</th><th>Number</th><th>Size</th><th>Color</th><th>Result</th></tr></thead>
<tbody id="tableBody"><tr><td colspan="5" class="loading">Loading data...</td></tr></tbody>
</table>
</div>

<div class="time-display"><div class="current-time" id="currentTime">00:00:00</div></div>
</div>

<button class="refresh-btn" onclick="refreshData()"><span class="refresh-icon" id="refreshIcon">â†»</span><span>Refresh</span></button>

<script>
const API='https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json';
let currentPred=null;
let lastPeriod=null;
let allPeriods=[];
let numberMatches=[];
let colorMatches=[];

function getSize(n){return parseInt(n)>=5?'Big':'Small'}
function getColors(n){
const num=parseInt(n);
if(num===0)return['red','violet'];
if(num===5)return['green','violet'];
return num%2===0?['red']:['green'];
}
function getColorString(n){
const colors=getColors(n);
return colors.join(',');
}

let periodsStorage=[];

function savePeriods(data){
periodsStorage=data;
}

function loadSavedPeriods(){
return periodsStorage;
}

function findNumberMatches(lastNum){
if(!lastNum)return[];
const matches=[];
for(let i=0;i<allPeriods.length-1;i++){
if(allPeriods[i].num===lastNum){
const nextNum=allPeriods[i+1].num;
matches.push({
period:allPeriods[i].period,
currentNum:lastNum,
nextNum:nextNum,
index:i
});
}
}
return matches;
}

function findColorPatternMatches(last3Colors){
if(!last3Colors||last3Colors.length<3)return[];
const c1=last3Colors[0];
const c2=last3Colors[1];
const c3=last3Colors[2];
const matches=[];
for(let i=2;i<allPeriods.length-1;i++){
const h1=getColorString(parseInt(allPeriods[i].num));
const h2=getColorString(parseInt(allPeriods[i-1].num));
const h3=getColorString(parseInt(allPeriods[i-2].num));
if(h1===c1&&h2===c2&&h3===c3){
const nextColor=getColorString(parseInt(allPeriods[i+1].num));
matches.push({
period:allPeriods[i].period,
pattern:[c1,c2,c3],
nextColor:nextColor,
nextNum:allPeriods[i+1].num,
index:i,
positions:[i,i-1,i-2]
});
}
}
return matches;
}

async function loadData(){
try{
const res=await fetch(`${API}?ts=${Date.now()}`);
const data=await res.json();
let gameList=[];
if(data&&data.data&&data.data.list)gameList=data.data.list;
else if(data&&data.list)gameList=data.list;
else if(Array.isArray(data))gameList=data;
if(gameList.length===0){
document.getElementById('tableBody').innerHTML='<tr><td colspan="5" class="loading">No data</td></tr>';
return;
}
const processed=gameList.map(item=>({
period:String(item.issue||item.period||item.issueNo||item.periodId||item.issueNumber||''),
num:String(item.result||item.number||item.num||item.openResult||'0')
}));

const savedData=loadSavedPeriods();
if(savedData.length>0){
allPeriods=[...savedData];
}

const newPeriods=[];
processed.forEach(item=>{
const exists=allPeriods.find(p=>p.period===item.period);
if(!exists){
newPeriods.push(item);
}
});

if(newPeriods.length>0){
allPeriods=[...newPeriods,...allPeriods];
}

if(allPeriods.length>500){
allPeriods=allPeriods.slice(0,500);
}

savePeriods(allPeriods);

document.getElementById('dataCount').textContent=`Total Periods Stored: ${allPeriods.length}/500`;

const lastNum=allPeriods[0].num;
numberMatches=findNumberMatches(lastNum);

const last3Colors=allPeriods.slice(0,3).map(p=>getColorString(parseInt(p.num)));
colorMatches=findColorPatternMatches(last3Colors);

document.getElementById('lastNumber').textContent=lastNum;
const numberMatchList=document.getElementById('numberMatchList');
if(numberMatches.length>0){
const nextNumFreq={};
numberMatches.forEach(m=>{
nextNumFreq[m.nextNum]=(nextNumFreq[m.nextNum]||0)+1;
});
const sortedNums=Object.entries(nextNumFreq).sort((a,b)=>b[1]-a[1]);
numberMatchList.innerHTML='';
sortedNums.forEach(([num,count])=>{
const div=document.createElement('div');
div.className='match-item';
div.innerHTML=`Number <strong>${num}</strong>: ${count} times (${Math.round(count/numberMatches.length*100)}%)`;
numberMatchList.appendChild(div);
});
}else{
numberMatchList.innerHTML='<div class="match-item">No previous matches found</div>';
}

const colorMatchList=document.getElementById('colorMatchList');
if(colorMatches.length>0){
const nextColorFreq={};
colorMatches.forEach(m=>{
const key=`${m.nextColor} (${m.nextNum})`;
nextColorFreq[key]=(nextColorFreq[key]||0)+1;
});
const sortedColors=Object.entries(nextColorFreq).sort((a,b)=>b[1]-a[1]);
colorMatchList.innerHTML='';
sortedColors.forEach(([colorInfo,count])=>{
const div=document.createElement('div');
div.className='match-item';
div.innerHTML=`${colorInfo}: ${count} times (${Math.round(count/colorMatches.length*100)}%)`;
colorMatchList.appendChild(div);
});
}else{
colorMatchList.innerHTML='<div class="match-item">No color pattern matches found</div>';
}

const currentPeriod=allPeriods[0].period;
const currentNum=allPeriods[0].num;
lastPeriod=currentPeriod;

let predNum='0';
let confidence=50;
if(numberMatches.length>0){
const nextNumFreq={};
numberMatches.forEach(m=>{
nextNumFreq[m.nextNum]=(nextNumFreq[m.nextNum]||0)+1;
});
const sortedNums=Object.entries(nextNumFreq).sort((a,b)=>b[1]-a[1]);
predNum=sortedNums[0][0];
confidence=Math.min(95,60+Math.round((sortedNums[0][1]/numberMatches.length)*35));
}

currentPred={prediction:predNum,confidence:confidence,matchCount:numberMatches.length+colorMatches.length};

const predResult=document.getElementById('predResult');
const confBadge=document.getElementById('confBadge');
const patternBadge=document.getElementById('patternBadge');
const patternMatch=document.getElementById('patternMatch');
if(currentPred){
predResult.innerHTML=`<span class="pred-big" style="font-size:72px">${currentPred.prediction}</span>`;
confBadge.textContent=`Confidence: ${currentPred.confidence}%`;
if(numberMatches.length>0||colorMatches.length>0){
patternBadge.style.display='block';
patternMatch.textContent=`${numberMatches.length} Number + ${colorMatches.length} Color`;
}else{
patternBadge.style.display='none';
}
}

const tbody=document.getElementById('tableBody');
tbody.innerHTML='';

const matchedPeriods=new Set();
numberMatches.forEach(match=>{
matchedPeriods.add(allPeriods[match.index].period);
});
colorMatches.forEach(match=>{
match.positions.forEach(pos=>{
if(allPeriods[pos]){
matchedPeriods.add(allPeriods[pos].period);
}
});
});

// Get last number to highlight in table
const lastNumber=allPeriods[0].num;

allPeriods.slice(0,50).forEach(item=>{
const num=item.num;
const size=getSize(num);
const colors=getColors(parseInt(num));
const isMatched=matchedPeriods.has(item.period);
const isLastNumber=num===lastNumber;
const tr=document.createElement('tr');
if(isMatched)tr.className='match-row';

const tdPeriod=document.createElement('td');
tdPeriod.className='period-cell';
tdPeriod.textContent=item.period.slice(-6);
if(isMatched){
const badge=document.createElement('span');
badge.className='match-badge';
badge.textContent='â˜…';
tdPeriod.appendChild(badge);
}

const tdNum=document.createElement('td');
tdNum.className='num-cell'+(isLastNumber?' matched':'');
tdNum.textContent=num;

const tdSize=document.createElement('td');
tdSize.innerHTML=`<span class="size-badge size-${size.toLowerCase()}">${size}</span>`;

const tdColor=document.createElement('td');
tdColor.className='color-dots';
colors.forEach(c=>{
const dot=document.createElement('span');
dot.className=`dot dot-${c}`;
tdColor.appendChild(dot);
});

const tdResult=document.createElement('td');
tdResult.textContent='-';

tr.appendChild(tdPeriod);
tr.appendChild(tdNum);
tr.appendChild(tdSize);
tr.appendChild(tdColor);
tr.appendChild(tdResult);
tbody.appendChild(tr);
});
}catch(err){
console.error('Error:',err);
document.getElementById('tableBody').innerHTML='<tr><td colspan="5" class="loading">Error loading data</td></tr>';
}
}

function updateTime(){
const now=new Date();
const h=String(now.getHours()).padStart(2,'0');
const m=String(now.getMinutes()).padStart(2,'0');
const s=String(now.getSeconds()).padStart(2,'0');
document.getElementById('currentTime').textContent=`${h}:${m}:${s}`;
if(s==='00'||s==='30')setTimeout(loadData,1000);
}

function refreshData(){
const icon=document.getElementById('refreshIcon');
icon.classList.add('spin');
setTimeout(()=>icon.classList.remove('spin'),500);
loadData();
}

loadData();
setInterval(updateTime,1000);
updateTime();
</script>
</body>
</html>
